## RAM의 특징과 종류

### RAM의 특징

- RAM에는 실행할 프로그램의 명령어와 데이터가 저장된다.
- 전원을 끄면 저장된 내용이 사라지는데 이러한 저장 장치를 휘발성 저장 장치라고 한다.
- 전원이 꺼져도 저장된 내용이 유지되는 저장 장치는 비휘발성 저장 장치라고 한다.
  - ex. SSD, CD-ROM, USB

### RAM의 용량과 성능

- RAM 용량이 충분히 크다면 보조기억장치에서 많은 데이터를 가져와 미리 RAM에 저장할 수 있다.
- RAM 용량이 크면 많은 프로그램들을 동시에 빠르게 실행하는 데 유리하다.

### RAM의 종류

- RAM의 종류에는 DRAM, SRAM, SDRAM, DDR SDRAM이 있다.

- DRAM : Dynamic RAM의 준말로, 데이터가 동적으로 변하는 RAM을 의미한다. 즉, 시간이 지나면 저장된 데이터가 점차 사라진다. 그렇기에 DRAM은 일정 주기로 데이터를 재활성화 하여 데이터의 소멸을 막아야 한다.
- SDRM : 시간이 지나도 저장된 데이터가 사라지지 않는다. 일반적으로 SRAM은 DRAM보다 속도도 더 빠르다. 대용량으로 만들어질 필요는 없지만 속도는 빨라야 하는 저장 장치에서 사용된다.(ex. 캐시 메모리)
- SDRAM : 클럭 타이밍에 맞춰 CPU와 정보를 주고받을 수 있음을 의미한다.
- DDR SDRAM : 대역폭을 넓혀 속도를 빠르게 만든 SDRAM이다. 여기서 대역폭이란 *데이터를 주고받는 길의 너비*를 의미한다. 최근에 흔희 사용하는 메모리는 DDR4 SDRAM이다.

## 메모리의 주소 공간

- 메모리에 저장된 정보의 위치는 주소로 나타낼 수 있는데, 주소에는 두 종류가 있다.
- **물리 주소**는 메모리 하드웨어가 사용하는 주소이고, **논리 주소**는 CPU와 실행 중인 프로그램이 사용하는 주소이다.

### 물리 주소와 논리 주소

- 물리주소 : 정보가 실제로 저장된 하드웨어상의 실제 주소
- 논리주소 : 실행 중인 프로그램 각각에게 부여된 0번지부터 시작되는 주소
- CPU가 메모리와 상호작용하려면 논리 주소와 물리 주소간의 변환이 이루어져야 한다.
- 논리 주소와 물리 주소간의 변환은 CPU와 주소 버스 사이에 위치한 메모리 관리 장치(MMU)라는 하드웨어에 의해 수행된다.
  그림
- **베이스 레지스터**는 프로그램의 가장 물리주소, 즉 프로그램의 첫 물리 주소를 저장하는 셈이고, **논리 주소**는 프로그램의 시작점으로부터 떨어진 거리

### 메모리 보호 기법

- 다른 프로그램의 영역을 침범할 수 있는 명령어는 위험하기 때문에 논리 주소 범위를 벗어나는 명령어 실행을 방지하고 실행 중인 프로그램이 다른 프로그램에 영향을 받지 않도록 보호해야 한다.
- 이를 보호하기 위해 **한계 레지스터**가 담당하여 보호한다.
- 프로그램의 물리 주소 범위는 베이스 레지스터 값 이상, 베이스 레지스터 값 + 한계 레지스터 값 미만이 된다.
  그림
- CPU는 메모리에 접근하기 전에 접근하고자 하는 논리 주소가 한계 레지스터보다 작은지를 항상 검사한다.
- CPU가 한계 레지스터보다 높은 논리 주소에 접근하려고 하면 인터럽트를 발생시켜 실행을 중단한다.

## 캐시 메모리

- CPU가 메모리에 접근하는 시간은 CPU의 연산 속도보다 느리다. 이를 극복하기 위한 저장 장치가 **_캐시 메모리_**이다.

### 저장 장치 계층 구조

- 저장 장치는 일반적으로 아래와 같은 명제를 따른다.

  - CPU와 가까운 저장 장치는 빠르고, 멀리 있는 저장 장치는 느리다.
  - 속도가 빠른 저장 장치는 용량이 작고, 가격이 비싸다.

- 장단점이 명확하여 컴퓨터는 다양한 저장 장치를 모두 사용한다.
- 컴퓨터가 사용하는 저장 장치들은 *CPU에 얼마나 가까운가*를 기준으로 계층적으로 나타낼 수 있는데 이를 **저장 장치 계층 구조**라고 한다.
  그림

### 캐시 메모리

- CPU와 메모리 사이에 위치하고, 레지스터보다 용량이 크고 메모리보다 빠른 SRAM 기반의 저장 장치이다.
- 캐시 메모리는 CPU의 연산 속도와 메모리 접근 속도의 차이를 줄이기 위해 탄생했다.
  그림
- 컴퓨터 내부에는 여러 개의 캐시 메모리가 있는데 CPU와 가까운 순서대로 계층을 구성한다.
  - 코어와 가장 가까운 캐시 메모리를 L1캐시, 그다음 가까운 캐시 메모리를 L2 캐시, 그다음이 L3 캐시라고 부른다.
  - CPU가 메모리 내에 데이터가 필요하다고 판단하면 L1캐시에 해당 데이터가 있는지 알아보고, 없다면 L2,L3 캐시 순으로 데이터를 검색한다.

### 참조 지역성 원리

- CPU가 사용할 법한 대상을 예측하여 저장한다.
- 이때 자주 사용될 것으로 예측한 데이터가 실제로 들어맞아 캐시 메모리 내 데이터가 CPU에서 활용될 경우 **캐시 히트**라고 한다.
- 반대로 예측이 틀려 메모리에서 필요한 데이터를 직접 가져와야 하는 경우를 **캐시 미스**라고 한다.
- 캐시 적중률 : `캐시 히트 횟수 / (캐시 히트 횟수 + 캐시 미스 횟수)`로, 일반적으로 컴퓨터의 캐시 적중률은 85~95%

- 캐시 메모리는 한 가지 원칙에 따라 메모리부터 가져올 데이터를 결정하는데 이를 **_참조 지역성의 원리_**라고 한다.
- 참조 지역성의 원리
  - 1. CPU는 최근에 접근했떤 메모리 공간에 다시 접근하려는 경향이 있다.
    - 변수에 저장된 값은 프로그램이 실행되는 동안 여러번 사용된다.
    - 즉, CPU는 최근에 접근했던 메모리 공간을 여러 번 다시 접근할 수 있는데 이러한 경향을 *시간 지역성*이라 한다.
  - 2. CPU는 접근한 메모리 공간 근처를 접근하려는 경향이 있다.
    - CPU가 실행하려는 프로그램은 보통 관련 데이터들끼리 한데 모여 있다. 하나의 프로그램 내에서도 관련 있는 데이터들은 모여서 저장된다.
    - 접근할 메모리 공간 근처를 접근하려는 경향을 *공간 지역성*이라 한다.
