## 다양한 보조기억장치

### 하드디스크

- 하드디스크는 자기적인 방식으로 데이터를 저장하는 보조기억장치이다.
- 플래터 : 하드디스크에서 실질적으로 데이터가 저장되는 동그란 원판
- 스핀들 : 플래터를 회전시키는 구성 요소로 플래터를 돌리는 속도는 RPM 단위로 표현된다.
- 헤드 : 플래터를 대상으로 데이터를 읽고 쓰는 구성 요소이다.
- 디스크 암 : 헤드를 원하는 위치로 이동시키는 장치이다.
- 플래터는 트랙과 섹터라는 단위로 데이터를 저장한다.
- 실린더 : 여러 겹의 플래터 상에서 트랙이 위치한 곳을 모아 연결한 논리적 단위
- 플래터를 동심원으로 나눈 공간은 트랙, 같은 트랙끼리 연결한 원통 모양의 공간은 실린더이다.

#### 저장된 데이터에 접근하는 과정

- 탐색 시간 : 접근하려는 데이터가 저장된 트랙까지 헤드를 이동시키는 시간
- 회전 지연 : 헤드가 있는 곳으로 플래터를 회전시키는 시간
- 전송 시간 : 하드 디스크와 컴퓨터 간에 데이터를 전송하는 시간
- 하드 디스크에서 다량의 데이터를 탐색하고 읽어 들이는 시간은 생각보다 크다.

### 플래시 메모리

- 플래시 메모리는 전기적으로 데이터를 읽고 쓸 수 있는 반도체 기반의 저장 장치
- 셀 : 플래시 메모리에서 데이터를 저장하는 가장 작은 단위
- 하나의 셀에 몇 비트를 저장할 수 있느냐ㅑ에 따라 종류가 나뉘는데

  - **한 셀에 1비트를 저장할 수 있는 플래시 메모리를 SLC** : 비트의 빠른 입출력이 가능하다.
  - **한 셀에 2비트를 저장할 수 있는 플래시 메모리를 MLC** : 한 셀로 4개의 정보를 나타낼 수 있다. SLC 타입보다 일반적으로 속도와 수명은 떨어지지만, SLC보다 대용화에 유리하다.
  - **한 셀에 3비트를 저장할 수 있는 플래시 메모리를 TLC** : 한 셀로 8개의 정보를 표현할 수 있다. 대용화하기 유리하다. SLC나 MLC타입보다 수명과 속도가 떨어지지만 용량 대비 가격도 저렴하다.

- 셀들이 모여 만들어진 _페이지_, 페이지가 모여 만들어진 단위를 _블록_, 블록이 모여 _플레인_, 플레인이 모여 _다이_
- 플래시 메모리에서 읽기와 쓰기는 페이지 단위로 이루어진다.
- 하지만 삭제는 페이지보다 큰 블록 단위로 이루어진다.
- 페이지는 세 개의 상태를 갖는다.
  - Free 상태 : 어떠한 데이터도 저장하고 있지 않아 새로운 데이터를 저장할 수 있는 상태
  - Valid 상태 : 이미 유효한 데이터를 저장하고 있는 상태
  - Invalid 상태 : 쓰레기 값이라 부르는 유효하지 않은 데이터를 저장하고 있는 상태
    그림
  - 최근 SSD를 비롯한 플래시 메모리는 이런 쓰레기 값을 정리하기 위해 가비지 컬렉션 기능을 제공한다.
    그림

## RAID의 정의와 종류

### RAID의 정의

- 주로 하드디스크와 SSD를 사용하는 기술로, 데이터의 안정성 혹은 높은 성능을 위해 여러 개의 물리적 보조기억장치를 마치 하나의 논리적 보조기억장치처럼 사용하는 기술을 의미한다.

### RAID의 종류

- RAID 구성방법을 RAID 레벨이라고 표현하는데, 대표적으로 RAID 0, RAID 1, RAID 4, RAID 5, RAID 6이 있다.

#### RAID 0

- 여러개의 보조기억장치에 데이터를 단순히 나누어 저장하는 구성 방식
  그림
- 줄무늬처럼 분산되어 저장된 데이터를 스트라입이라 하고, 분산하여 저장하는 것을 스트라이핑이라 한다.
- _RAID 0으로 구성된 하드디스크 중 하나에 문제가 생긴다면 다른 모든 하드 디스크의 정보를 읽는데 문제가 생기는 단점이 있다_

#### RAID 1

- 거울처럼 완전한 복사본을 만드는 구성으로 미러링이라고도 부른다.
- RAID 1에 어떠한 데이터를 쓸 때는 원본과 복사본 두 군데에 쓰기에 RAID 0보다 느리다.
  그림

#### RAID 4

- RAID 1처럼 완전한 복사본을 만드는 대신 오류를 검출하고 복구하기 위한 정보를 저장한 장치를 두는 구성 방식이다.
- 이때, 오류를 검출하고 복구하기 위한 정보를 **패리티 비트**라고 한다.
- 패리티를 저장한 장치를 이용해 다른 장치들의 오류를 검출하고, 오류가 있다면 복구한다.
- 이로써 RAID 1보다 적은 하드 디스크로도 데이터를 안전하게 보관할 수 있다.
  그림

#### RAID 5

- RAID 4는 어떤 새로운 데이터가 저장될 때마다 패리티를 저장하는 디스크에도 데이터를 쓰게 되므로 패리티를 저장하는 장치에 병목 현상이 발생한다.
- 이를 해소하기 위해 RAID 5는 패리티 정보를 분산하여 저장하는 방식을 채택한다.

#### RAID 6

- RAID 5와 구성이 기본적으로 같으나, 서로 다른 두 개의 패리티를 두는 방식이다.
- 오류를 검출하고 복구할 수 있는 수단이 두 개가 생긴 셈으로, RAID 4나 RAID 5보다 안전한 구성이다.
- 다만 새로운 정보를 저장할 때마다 함께 저장할 패리티가 두 개이므로 쓰기 속도가 느리다. 그렇기 때문에 저장 속도를 조금 희생하더라도 데이터를 더욱 안전하게 보관하고 싶을 때 사용하는 방식이다.
  그림
